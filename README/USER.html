<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>USER</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h1 id="center-introduction"><center> Introduction</center></h1>
<p>Ce projet a deux exécutables le <em><strong>ServerChatHack.jar</strong></em> et <em><strong>ChatHack.jar</strong></em> pour les exécuter il faut d’abord exécuter le <em><strong>ServerMdp.jar</strong></em> il prend en paramétres un port et un fichier avec des logins et mots de passe au format <em>login$password</em>. Ensuite il faudra exécuté le ServerChatHack.jar il prend en paramétres un port puis le host et port du ServerMdp. Finalement on pourra exécuter les ChatHack, il prend en paramétres un dossier le host et port du ServerChatHack puis un login et possiblement un mot de passe.</p>
<h1 id="usage">Usage</h1>
<ul>
<li>Point de départ:</li>
</ul>
<pre class=" language-java"><code class="prism  language-java"><span class="token comment">// First terminal</span>
java <span class="token operator">-</span>jar ServerMdp<span class="token punctuation">.</span>jar <span class="token number">4545</span> password<span class="token punctuation">.</span>txt

<span class="token comment">// Second terminal</span>
java <span class="token operator">-</span>jar ServerChatHack<span class="token punctuation">.</span>jar <span class="token number">7777</span> localhost <span class="token number">4545</span>

<span class="token comment">// Third terminal</span>
java <span class="token operator">-</span>jar ChatHack<span class="token punctuation">.</span>jar <span class="token operator">/</span>home<span class="token operator">/</span>Documents localhost <span class="token number">7777</span> bruno

<span class="token comment">// ou bob et alice qui sont dans password.txt</span>
java <span class="token operator">-</span>jar ChatHack<span class="token punctuation">.</span>jar <span class="token operator">/</span>home<span class="token operator">/</span>Documents localhost <span class="token number">7777</span> bob alice 
</code></pre>
<ul>
<li>Les commandes du ChatHack disponible</li>
</ul>

<table>
<thead>
<tr>
<th>Commande</th>
<th>Résultat</th>
</tr>
</thead>
<tbody>
<tr>
<td>[texte]</td>
<td>message global</td>
</tr>
<tr>
<td>/login ou @login</td>
<td>demande de connexion privée si la connexion n’est pas encore établie</td>
</tr>
<tr>
<td>@login [texte]</td>
<td>(demande de connexion privée) message privée</td>
</tr>
<tr>
<td>/login [fichier]</td>
<td>(demande de connexion privée) fichier privée</td>
</tr>
<tr>
<td>{^Z ou ^z}</td>
<td>demande de déconnexion du serveur</td>
</tr>
<tr>
<td>{^Z ou ^z} login</td>
<td>demande de déconnexion privée</td>
</tr>
</tbody>
</table><ul>
<li>Des exemples d’usage</li>
</ul>

<table>
<thead>
<tr>
<th>Type commande</th>
<th>Ecriture de la commande à partir du 1er client</th>
<th>1er Client bob</th>
<th>2eme Client alice</th>
</tr>
</thead>
<tbody>
<tr>
<td>Message global</td>
<td>Salut tout le monde</td>
<td>bob:Salut tout le monde</td>
<td>bob:Salut tout le monde</td>
</tr>
<tr>
<td>Demande de connexion privée</td>
<td>@alice salut ou @alice text.txt ou @alice ou /alice</td>
<td>1-&gt;@alice ou /alice<br><br>3-&gt;INFO: alice accepted/denied the demand</td>
<td>INFO: bob wants to start a private conversation enter O/N <br><br>2-&gt;O ou o// n ou N<br><br>4-&gt;<br><em>Si la demande est accepte</em><br>INFO: Client bob with the token [long]</td>
</tr>
<tr>
<td>Message privée</td>
<td>@alice Salut</td>
<td>alice read the message</td>
<td>private message from bob : Salut</td>
</tr>
<tr>
<td>Fichier privée</td>
<td>/alice text.txt</td>
<td>alice received the file</td>
<td>INFO: Received file text.txt from bob</td>
</tr>
<tr>
<td>Déconnexion privée</td>
<td>^z alice</td>
<td>INFO: Logout to client alice</td>
<td>INFO: Logout to bob</td>
</tr>
<tr>
<td>Déconnexion</td>
<td>^z</td>
<td>Logout to server: [host/port]</td>
<td>-</td>
</tr>
</tbody>
</table><h1 id="règles">Règles</h1>
<p>Tout d’abord faut s’identifier avec un login unique et si le login appartient à password.txt il faudra aussi rentrer le mot de passe sinon il faut juste mettre un login.</p>
<pre><code>INFO: Connection failed
</code></pre>
<p>Si le serveur Mdp se déconnecte on pourra plus accepter de nouveaux clients même si un client était déjà connecte et essayer de se reconnecte.</p>
<p>Si on demande de la connexion privée d’un client inexistant ou le client refuse la demande.</p>
<pre><code>INFO: failed private connexion demand
</code></pre>
<p>Si on demande de se déconnecte ou se connecte à nous même.</p>
<pre><code>INFO: Cannot logout with yourself
ou
INFO: Cannot create private connexion with yourself
</code></pre>
<p>Si on essaye d’envoyer un fichier qui n’existe pas dans notre répertoire</p>
<pre><code>INFO: Cannot send this file does not exist:[file]
</code></pre>
<p>Pour les demandes de connexion privées le client a 5000 millisecondes pour envoi une réponse sinon par défaut la demande est refusée.</p>
<pre><code>//client qui a reçu la demande
INFO: more than 5000 milleseconds have passed you did not respond
//client qui a fait la demande
INFO: [login] denied the demand
</code></pre>
<p>Finalement si la connexion entre le client et le serveur est ferme</p>
<pre><code>SEVERE: server closed it's connexion with you
</code></pre>
<h1 id="conclusion">Conclusion</h1>
<p>Le client peut communiquer avec des autres client en général ou en privée. Le rôle du serveur sera de transmettre des messages mais aussi les demandes. Le serveur mdp reste important pour établir la connexion entre notre serveur et ces client.</p>
</div>
</body>

</html>
